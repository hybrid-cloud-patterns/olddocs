<!doctype html><html><head><link rel=stylesheet href=https://hybrid-cloud-patterns.io/sass/patternfly.css><link rel=stylesheet href=/css/custom.css><link rel=stylesheet href=https://hybrid-cloud-patterns.io/sass/patternfly-addons.css><link rel=stylesheet href=https://use.fontawesome.com/releases/v6.3.0/css/solid.css><link rel=stylesheet href=https://use.fontawesome.com/releases/v6.3.0/css/fontawesome.css><link rel=stylesheet href=https://use.fontawesome.com/releases/v6.3.0/css/brands.css><title>Cluster sizing | Hybrid Cloud Patterns</title></head><body><div class=pf-c-page><header class=pf-c-page__header><div class=pf-c-page__header-brand><a href=/ class=pf-c-page__header-brand-link><img src=/images/hybrid_cloud_patterns.png alt="Hybrid Cloud Patterns"></a></div><div class=pf-c-page__header-tools><nav class="pf-c-nav pf-m-horizontal" role=navigation><ul class=pf-c-nav__list><li class="pf-c-nav__item pf-m-current"><a class=pf-c-nav__link href=/patterns/ title=Patterns>Patterns</a></li><li class=pf-c-nav__item><a class=pf-c-nav__link href=/learn/ title=Learn>Learn</a></li><li class=pf-c-nav__item><a class=pf-c-nav__link href=/contribute/ title=Contribute>Contribute</a></li><li class=pf-c-nav__item><a class=pf-c-nav__link href=/blog/ title=Blog>Blog</a></li><li class=pf-c-nav__item><a class=pf-c-nav__link href=/ci/ title=Status>Status</a></li></ul></nav></div></header><div class=pf-c-page__sidebar><div class=pf-c-page__sidebar-body><div class="pf-l-flex filter-title-div"><span class="pf-c-title pf-m-md filter-title pf-l-flex__item pf-m-grow">Menu</span></div><div class="pf-c-select pf-m-expanded"><div class=pf-c-select__menu><div class="pf-c-nav pf-m-light"><ul class=pf-c-nav__list><li class=pf-c-nav__item><a href=/patterns/ class=pf-c-nav__link><span class="pf-c-icon pf-m-md pf-m-inline"><span class=pf-c-icon__content><i class="fas fa-angle-left" aria-hidden=true></i></span></span>
<span style=padding-left:10px>Back to Patterns</span></a></li><li class="pf-c-nav__item pf-m-expanded"><a href=https://hybrid-cloud-patterns.io/patterns/multicloud-gitops/ class=pf-c-nav__link>Multicloud GitOps</a></li><li class="pf-c-nav__item pf-m-expanded"><a href=https://hybrid-cloud-patterns.io/patterns/multicloud-gitops/mcg-getting-started/ class=pf-c-nav__link>Getting started</a></li><li class="pf-c-nav__item pf-m-expanded"><a href=https://hybrid-cloud-patterns.io/patterns/multicloud-gitops/mcg-managed-cluster/ class=pf-c-nav__link>Managed cluster sites</a></li><li class="pf-c-nav__item pf-m-expanded"><a href=https://hybrid-cloud-patterns.io/patterns/multicloud-gitops/mcg-cluster-sizing/ class="pf-c-nav__link pf-m-current">Cluster sizing</a></li><li class="pf-c-nav__item pf-m-expanded"><a href=https://hybrid-cloud-patterns.io/patterns/multicloud-gitops/mcg-imperative-actions/ class=pf-c-nav__link>Imperative actions</a></li><li class="pf-c-nav__item pf-m-expanded"><a href=https://hybrid-cloud-patterns.io/patterns/multicloud-gitops/mcg-ideas-for-customization/ class=pf-c-nav__link>Ideas for customization</a></li></ul></div></div></div></div></div><main class=pf-c-page__main tabindex=0 data-bs-spy=scroll data-bs-target=#TableOfContents data-bs-offset=50><section class="pf-c-page__main-section pf-m-fill"><div class=pf-u-display-flex><div class="pf-c-content min-height"><div class=sect1><h2 id=about-openshift-cluster-sizing-mcg><a class=anchor href=#about-openshift-cluster-sizing-mcg></a>About OpenShift cluster sizing for the Multicloud GitOps Pattern</h2><div class=sectionbody><div class=paragraph><p>To understand cluster sizing requirements for the Multicloud GitOps pattern, consider the following components that the Multicloud GitOps pattern deploys on the datacenter or the hub OpenShift cluster:</p></div><table class="tableblock frame-all grid-all stretch"><col style=width:25%><col style=width:25%><col style=width:25%><col style=width:25%><thead><tr><th class="tableblock halign-left valign-top">Name</th><th class="tableblock halign-left valign-top">Kind</th><th class="tableblock halign-left valign-top">Namespace</th><th class="tableblock halign-left valign-top">Description</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>multicloud-gitops-hub</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Application</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>multicloud-gitops-hub</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Hub GitOps management</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Red Hat Advanced Cluster Management</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Operator</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>open-cluster-management</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Advance Cluster Management</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Red Hat OpenShift GitOps</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Operator</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>openshift-operators</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>OpenShift GitOps</p></td></tr></tbody></table><div class=paragraph><p>The following are the minimum requirements for sizing of nodes for OpenShift Container Platform 4.x:</p></div><div class=ulist><ul><li><p>Minimum 4 vCPU** (additional are strongly recommended)</p></li><li><p>Minimum 16 GB RAM** (additional memory is strongly recommended, especially if <code>etcd</code> is colocated on Control Planes)</p></li><li><p>Minimum 40 GB hard disk space for the file system containing <code>/var/</code></p></li><li><p>Minimum 1 GB hard disk space for the file system containing <code>/usr/local/bin/</code></p></li></ul></div><div class=paragraph><p>The Multicloud GitOps pattern also includes the Red Hat Advanced Cluster Management (RHACM) supporting operator that is installed by OpenShift GitOps using Argo CD.</p></div><div class=sect2><h3 id=mcg-openshift-datacenter-hub-cluster-size><a class=anchor href=#mcg-openshift-datacenter-hub-cluster-size></a>Multicloud GitOps pattern with OpenShift datacenter hub cluster size</h3><div class=paragraph><p>The Multicloud GitOps pattern has been tested with a defined set of specifically tested configurations that represent the most common combinations that Red Hat OpenShift Container Platform customers are using or deploying for the x86_64 architecture.</p></div><div class=paragraph><p>The datacenter hub OpenShift cluster uses the following the AWS deployment configuration:</p></div><table class="tableblock frame-all grid-all stretch"><col style=width:25%><col style=width:25%><col style=width:25%><col style=width:25%><thead><tr><th class="tableblock halign-left valign-top">Node Type</th><th class="tableblock halign-center valign-top">Number of nodes</th><th class="tableblock halign-left valign-top">Cloud Provider</th><th class="tableblock halign-left valign-top">Instance Type</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Control Plane</p></td><td class="tableblock halign-center valign-top"><p class=tableblock>4</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Amazon Web Services</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>m5.xlarge</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock>Worker</p></td><td class="tableblock halign-center valign-top"><p class=tableblock>3</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Amazon Web Services</p></td><td class="tableblock halign-left valign-top"><p class=tableblock>m5.xlarge</p></td></tr></tbody></table><div class=paragraph><p>The datacenter hub OpenShift cluster needs to be a bit bigger than the Factory/Edge clusters because this is where the developers will be running pipelines to build and deploy the Multicloud GitOps pattern on the cluster. The above cluster sizing is close to a minimum size for a Datacenter HUB cluster. In the next few sections we take some snapshots of the cluster utilization while the Multicloud GitOps pattern is running. Keep in mind that resources will have to be added as more developers are working building their applications.</p></div></div><div class=sect2><h3 id=mcg-openshift-managed-datacenter-cluster-size-cluster-sizing><a class=anchor href=#mcg-openshift-managed-datacenter-cluster-size-cluster-sizing></a>Multicloud GitOps pattern with OpenShift managed datacenter cluster size</h3><div class=paragraph><p>The standard datacenter deployment of an OpenShift cluster is 3 control plane nodes and 3 or more worker nodes.</p></div><table class="tableblock frame-all grid-all stretch"><col style=width:25%><col style=width:25%><col style=width:25%><col style=width:25%><thead><tr><th class="tableblock halign-center valign-top">Node Type</th><th class="tableblock halign-center valign-top">Number of nodes</th><th class="tableblock halign-center valign-top">Cloud Provider</th><th class="tableblock halign-center valign-top">Instance Type</th></tr></thead><tbody><tr><td class="tableblock halign-center valign-top"><p class=tableblock>Control Plane/Worker</p></td><td class="tableblock halign-center valign-top"><p class=tableblock>3</p></td><td class="tableblock halign-center valign-top"><p class=tableblock>Google Cloud</p></td><td class="tableblock halign-center valign-top"><p class=tableblock>n1-standard-8</p></td></tr><tr><td class="tableblock halign-center valign-top"><p class=tableblock>Control Plane/Worker</p></td><td class="tableblock halign-center valign-top"><p class=tableblock>3</p></td><td class="tableblock halign-center valign-top"><p class=tableblock>Amazon Cloud Services</p></td><td class="tableblock halign-center valign-top"><p class=tableblock>m5.2xlarge</p></td></tr><tr><td class="tableblock halign-center valign-top"><p class=tableblock>Control Plane/Worker</p></td><td class="tableblock halign-center valign-top"><p class=tableblock>3</p></td><td class="tableblock halign-center valign-top"><p class=tableblock>Microsoft Azure</p></td><td class="tableblock halign-center valign-top"><p class=tableblock>Standard_D8s_v3</p></td></tr></tbody></table></div></div></div></div><aside class="pf-c-jump-links pf-m-vertical sticky pf-m-expandable pf-m-non-expandable-on-2xl" aria-label="Table of contents"><div class=pf-c-jump-links__header><div class=pf-c-jump-links__label><h1>Table of Contents</h1></div></div><nav id=TableOfContents><ul class=pf-c-jump-links__list><li class=pf-c-jump-links__item><ul class=pf-c-jump-links__list><li class=pf-c-jump-links__item><a class=pf-c-jump-links__link href=#about-openshift-cluster-sizing-mcg>About OpenShift cluster sizing for the Multicloud GitOps Pattern</a><ul class=pf-c-jump-links__list><li class=pf-c-jump-links__item><a class=pf-c-jump-links__link href=#mcg-openshift-datacenter-hub-cluster-size>Multicloud GitOps pattern with OpenShift datacenter hub cluster size</a></li><li class=pf-c-jump-links__item><a class=pf-c-jump-links__link href=#mcg-openshift-managed-datacenter-cluster-size-cluster-sizing>Multicloud GitOps pattern with OpenShift managed datacenter cluster size</a></li></ul></li></ul></li></ul></nav></aside></div></section><section id=prefooter class="pf-c-page__main-section footer-dark"><div class="pf-l-grid prefooter-menu-grid"><div class="pf-l-grid__item pf-m-12-col-on-sm pf-m-6-col-on-md pf-m-offset-1-col-on-md pf-u-mb-lg pf-u-mb-0-on-sm"><div class="pf-l-grid pf-u-py-xl"><div class="pf-l-grid__item pf-m-6-col-on-sm pf-m-4-col-on-md pf-u-ml-md pf-u-ml-0-on-md pf-u-mb-xl pf-u-mb-0-on-md"><p class="pf-c-title footer-menu-title">QUICKLINKS</p><nav aria-label="Quick Links"><ul class="pf-c-list pf-m-plain"><li><i class="prefooter-icon fa-brands fa-github"></i>
<a class=footer-link aria-label="GitHub repository" href=https://github.com/hybrid-cloud-patterns>GitHub repository</a></li><li><i class="prefooter-icon fas fa-check-circle"></i>
<a class=footer-link aria-label="Available patterns" href=/patterns>Available patterns</a></li></ul></nav></div><div class="pf-l-grid__item pf-m-6-col-on-sm pf-m-4-col-on-md pf-u-mt-lg pf-u-mt-0-on-sm pf-u-ml-md pf-u-ml-0-on-md pf-u-mb-xl pf-u-mb-0-on-md"><p class="pf-c-title footer-menu-title">CONTRIBUTE</p><nav aria-label=Contribute><ul class="pf-c-list pf-m-plain ws-org-pfsite-footer-menu-list"><li><i class="prefooter-icon fas fa-pen"></i>
<a class=footer-link aria-label="Documentation contributor guidelines" href=/contribute/contribute-to-docs/>Documentation</a></li><li><i class="prefooter-icon fas fa-code"></i>
<a class=footer-link aria-label="How to create a new pattern" href=/contribute/creating-a-pattern/>Patterns</a></li></ul></nav></div><div class="pf-l-grid__item pf-m-6-col-on-sm pf-m-4-col-on-md pf-u-mt-lg pf-u-mt-0-on-md pf-u-ml-md pf-u-ml-0-on-md"><p class="pf-c-title footer-menu-title">STAY IN TOUCH</p><nav aria-label="Stay in touch"><ul class="pf-c-list pf-m-plain"><li><i class="prefooter-icon fas fa-envelope"></i>
<a href=https://groups.google.com/g/hybrid-cloud-patterns class=footer-link target=top aria-label="Join the Validated Patterns mailing list">Mailing list</a></li></ul></nav></div></div></div><div class="pf-l-grid__item pf-m-12-col-on-sm pf-m-4-col-on-md"><div class="pf-l-grid pf-u-pt-xl"><div class="pf-l-grid__item pf-u-px-xl"><a class="pf-c-page__header-brand-link pf-c-brand pf-u-pb-md" href=/><img class=pf-c-brand src=/images/hybrid_cloud_patterns.png alt="Hybrid Cloud Patterns"></a><p class=footer-link>Hybrid Cloud Patterns are an evolution of how you deploy applications in a hybrid cloud. With a pattern, you can automatically deploy a full application stack through a GitOps-based framework. With this framework, you can create business-centric solutions while maintaining a level of Continuous Integration (CI) over your application.</p></div></div></div></div></section><footer id=footer class="footer-dark pf-m-no-fill pf-l-flex footer-center"><div class=pf-l-flex__item><a href=//www.redhat.com target=top aria-label="Visit Red Hat.com"><img src=/images/RHlogo.svg alt="Red Hat logo" width=145px height=613px></a><span class=site-copyright>Copyright &copy; 2023 Red Hat, Inc.</span></div><script src=/js/bootstrap.bundle.js></script></footer></main></div></body></html>