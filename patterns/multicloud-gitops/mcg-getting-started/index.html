<!doctype html><html><head><link rel=stylesheet href=https://hybrid-cloud-patterns.io/sass/patternfly.css><link rel=stylesheet href=/css/custom.css><link rel=stylesheet href=https://hybrid-cloud-patterns.io/sass/patternfly-addons.css><link rel=stylesheet href=https://use.fontawesome.com/releases/v6.3.0/css/solid.css><link rel=stylesheet href=https://use.fontawesome.com/releases/v6.3.0/css/fontawesome.css><link rel=stylesheet href=https://use.fontawesome.com/releases/v6.3.0/css/brands.css><title>Getting started | Hybrid Cloud Patterns</title></head><body><div class=pf-c-page><header class=pf-c-page__header><div class=pf-c-page__header-brand><a href=/ class=pf-c-page__header-brand-link><img src=/images/hybrid_cloud_patterns.png alt="Hybrid Cloud Patterns"></a></div><div class=pf-c-page__header-tools><nav class="pf-c-nav pf-m-horizontal" role=navigation><ul class=pf-c-nav__list><li class="pf-c-nav__item pf-m-current"><a class=pf-c-nav__link href=/patterns/ title=Patterns>Patterns</a></li><li class=pf-c-nav__item><a class=pf-c-nav__link href=/learn/ title=Learn>Learn</a></li><li class=pf-c-nav__item><a class=pf-c-nav__link href=/contribute/ title=Contribute>Contribute</a></li><li class=pf-c-nav__item><a class=pf-c-nav__link href=/blog/ title=Blog>Blog</a></li><li class=pf-c-nav__item><a class=pf-c-nav__link href=/ci/ title=Status>Status</a></li></ul></nav></div></header><div class=pf-c-page__sidebar><div class=pf-c-page__sidebar-body><div class="pf-l-flex filter-title-div"><span class="pf-c-title pf-m-md filter-title pf-l-flex__item pf-m-grow">Menu</span></div><div class="pf-c-select pf-m-expanded"><div class=pf-c-select__menu><div class="pf-c-nav pf-m-light"><ul class=pf-c-nav__list><li class=pf-c-nav__item><a href=/patterns/ class=pf-c-nav__link><span class="pf-c-icon pf-m-md pf-m-inline"><span class=pf-c-icon__content><i class="fas fa-angle-left" aria-hidden=true></i></span></span>
<span style=padding-left:10px>Back to Patterns</span></a></li><li class="pf-c-nav__item pf-m-expanded"><a href=https://hybrid-cloud-patterns.io/patterns/multicloud-gitops/ class=pf-c-nav__link>Multicloud GitOps</a></li><li class="pf-c-nav__item pf-m-expanded"><a href=https://hybrid-cloud-patterns.io/patterns/multicloud-gitops/mcg-getting-started/ class="pf-c-nav__link pf-m-current">Getting started</a></li><li class="pf-c-nav__item pf-m-expanded"><a href=https://hybrid-cloud-patterns.io/patterns/multicloud-gitops/mcg-managed-cluster/ class=pf-c-nav__link>Managed cluster sites</a></li><li class="pf-c-nav__item pf-m-expanded"><a href=https://hybrid-cloud-patterns.io/patterns/multicloud-gitops/mcg-cluster-sizing/ class=pf-c-nav__link>Cluster sizing</a></li><li class="pf-c-nav__item pf-m-expanded"><a href=https://hybrid-cloud-patterns.io/patterns/multicloud-gitops/mcg-imperative-actions/ class=pf-c-nav__link>Imperative actions</a></li><li class="pf-c-nav__item pf-m-expanded"><a href=https://hybrid-cloud-patterns.io/patterns/multicloud-gitops/mcg-ideas-for-customization/ class=pf-c-nav__link>Ideas for customization</a></li></ul></div></div></div></div></div><main class=pf-c-page__main tabindex=0 data-bs-spy=scroll data-bs-target=#TableOfContents data-bs-offset=50><section class="pf-c-page__main-section pf-m-fill"><div class=pf-u-display-flex><div class="pf-c-content min-height"><div class=sect1><h2 id=deploying-mcg-pattern><a class=anchor href=#deploying-mcg-pattern></a>Deploying the Multicloud GitOps pattern</h2><div class=sectionbody><div class=ulist><div class=title>Prerequisites</div><ul><li><p>An OpenShift cluster</p><div class=ulist><ul><li><p>To create an OpenShift cluster, go to the <a href=https://console.redhat.com/>Red Hat Hybrid Cloud console</a>.</p></li><li><p>Select <strong>OpenShift -> Clusters -> Create cluster</strong>.</p></li><li><p>The cluster must have a dynamic <code>StorageClass</code> to provision <code>PersistentVolumes</code>. See <a href=../../multicloud-gitops/mcg-cluster-sizing>sizing your cluster</a>.</p></li></ul></div></li><li><p>Optional: A second OpenShift cluster for multicloud demonstration.</p></li><li><p>The git binary. See <a href=https://git-scm.com/book/en/v2/Getting-Started-Installing-Git>Installing Git</a></p></li><li><p>The Podman tool. See <a href=https://podman.io/getting-started/installation>Installing Podman</a></p></li></ul></div><div class=paragraph><p>The use of this pattern depends on having at least one running Red Hat OpenShift cluster. However, consider creating a cluster for deploying the GitOps management hub assets and a separate cluster for the managed cluster.</p></div><div class=paragraph><p>If you do not have a running Red Hat OpenShift cluster, you can start one on a
public or private cloud by using <a href=https://console.redhat.com/openshift/create>Red Hat Hybrid Cloud Console</a>.</p></div><div class="olist arabic"><div class=title>Procedure</div><ol class=arabic><li><p><a href=https://hybrid-cloud-patterns.io/learn/quickstart/>Install the tooling dependencies</a>.</p></li><li><p>Fork the <a href=https://github.com/hybrid-cloud-patterns/multicloud-gitops>multicloud-gitops</a> repository on GitHub.</p></li><li><p>Clone the forked copy of this repository.</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=terminal><span class=go>git clone git@github.com:your-username/multicloud-gitops.git</span></code></pre></div></div></li><li><p>Create a local copy of the secret values file that can safely include credentials. Run the following commands:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=terminal><span class=go>cp values-secret.yaml.template ~/values-secret-multicloud-gitops.yaml</span></code></pre></div></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=terminal><span class=go>vi ~/values-secret-multicloud-gitops.yaml</span></code></pre></div></div><div class="admonitionblock warning"><table><tbody><tr><td class=icon><i class="fa icon-warning" title=Warning></i></td><td class=content><div class=paragraph><p>Do not commit this file. You do not want to push personal credentials to GitHub. If you do not want to customize the secrets, these steps are not needed. The framework generates a random password for the config-demo application.</p></div></td></tr></tbody></table></div></li><li><p>Customize the deployment for your cluster. Run the following command:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=terminal><span class=go>git checkout -b my-branch</span></code></pre></div></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=terminal><span class=go>vi values-global.yaml</span></code></pre></div></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=terminal><span class=go>git add values-global.yaml</span></code></pre></div></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=terminal><span class=go>git commit values-global.yaml</span></code></pre></div></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=terminal><span class=go>git push origin my-branch</span></code></pre></div></div></li><li><p>Deploy the pattern by running <code>./pattern.sh make install</code> or by using the <a href=/infrastructure/using-validated-pattern-operator/>Validated Patterns Operator</a>.</p></li></ol></div><div class=sect2><h3 id=deploying-cluster-using-patternsh-file><a class=anchor href=#deploying-cluster-using-patternsh-file></a>Deploying the cluster by using the pattern.sh file</h3><div class=paragraph><p>To deploy the cluster by using the <code>pattern.sh</code> file, complete the following steps:</p></div><div class="olist arabic"><ol class=arabic><li><p>Login to your cluster by running the following command:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=terminal><span class=go> oc login</span></code></pre></div></div><div class=paragraph><p>Optional: Set the <code>KUBECONFIG</code> variable for the <code>kubeconfig</code> file path:</p></div><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=terminal><span class=gp> export KUBECONFIG=~/&lt;path_to_kubeconfig&gt;</span></code></pre></div></div></li><li><p>Deploy the pattern to your cluster. Run the following command:</p><div class=listingblock><div class=content><pre class="rouge highlight"><code data-lang=terminal><span class=go> ./pattern.sh make install</span></code></pre></div></div></li><li><p>Verify that the Operators have been installed.</p><div class="olist loweralpha"><ol class=loweralpha type=a><li><p>To verify, in the OpenShift Container Platform web console, navigate to <strong>Operators â†’ Installed Operators</strong> page.</p></li><li><p>Check that the Operator is installed in the <code>openshift-operators</code> namespace and its status is <code>Succeeded</code>.</p></li></ol></div></li><li><p>Verify that all applications are synchronized. Under the project <code>multicloud-gitops-hub</code> click the URL for the <code>hub</code> gitops <code>server</code>. The Vault application is not synched.</p><div class=imageblock><div class=content><img src=../../../images/multicloud-gitops/multicloud-gitops-argocd.png alt="Multicloud GitOps Hub"></div></div></li></ol></div><div class=paragraph><p>As part of this pattern, HashiCorp Vault has been installed. Refer to the section on <a href=https://hybrid-cloud-patterns.io/secrets/vault/>Vault</a>.</p></div></div></div></div><div class=sect1><h2 id=next-steps_mcg-getting-started><a class=anchor href=#next-steps_mcg-getting-started></a>Next steps</h2><div class=sectionbody><div class=paragraph><p>After the management hub is set up and works correctly, attach one or more managed clusters to the architecture.</p></div><div class=paragraph><p>For instructions on deploying the edge, refer to <a href=../mcg-managed-cluster/>Attach a managed cluster (edge) to the management hub</a>.</p></div></div></div></div><aside class="pf-c-jump-links pf-m-vertical sticky pf-m-expandable pf-m-non-expandable-on-2xl" aria-label="Table of contents"><div class=pf-c-jump-links__header><div class=pf-c-jump-links__label><h1>Table of Contents</h1></div></div><nav id=TableOfContents><ul class=pf-c-jump-links__list><li class=pf-c-jump-links__item><ul class=pf-c-jump-links__list><li class=pf-c-jump-links__item><a class=pf-c-jump-links__link href=#deploying-mcg-pattern>Deploying the Multicloud GitOps pattern</a><ul class=pf-c-jump-links__list><li class=pf-c-jump-links__item><a class=pf-c-jump-links__link href=#deploying-cluster-using-patternsh-file>Deploying the cluster by using the pattern.sh file</a></li></ul></li><li class=pf-c-jump-links__item><a class=pf-c-jump-links__link href=#next-steps_mcg-getting-started>Next steps</a></li></ul></li></ul></nav></aside></div></section><section id=prefooter class="pf-c-page__main-section footer-dark"><div class="pf-l-grid prefooter-menu-grid"><div class="pf-l-grid__item pf-m-12-col-on-sm pf-m-6-col-on-md pf-m-offset-1-col-on-md pf-u-mb-lg pf-u-mb-0-on-sm"><div class="pf-l-grid pf-u-py-xl"><div class="pf-l-grid__item pf-m-6-col-on-sm pf-m-4-col-on-md pf-u-ml-md pf-u-ml-0-on-md pf-u-mb-xl pf-u-mb-0-on-md"><p class="pf-c-title footer-menu-title">QUICKLINKS</p><nav aria-label="Quick Links"><ul class="pf-c-list pf-m-plain"><li><i class="prefooter-icon fa-brands fa-github"></i>
<a class=footer-link aria-label="GitHub repository" href=https://github.com/hybrid-cloud-patterns>GitHub repository</a></li><li><i class="prefooter-icon fas fa-check-circle"></i>
<a class=footer-link aria-label="Available patterns" href=/patterns>Available patterns</a></li></ul></nav></div><div class="pf-l-grid__item pf-m-6-col-on-sm pf-m-4-col-on-md pf-u-mt-lg pf-u-mt-0-on-sm pf-u-ml-md pf-u-ml-0-on-md pf-u-mb-xl pf-u-mb-0-on-md"><p class="pf-c-title footer-menu-title">CONTRIBUTE</p><nav aria-label=Contribute><ul class="pf-c-list pf-m-plain ws-org-pfsite-footer-menu-list"><li><i class="prefooter-icon fas fa-pen"></i>
<a class=footer-link aria-label="Documentation contributor guidelines" href=/contribute/contribute-to-docs/>Documentation</a></li><li><i class="prefooter-icon fas fa-code"></i>
<a class=footer-link aria-label="How to create a new pattern" href=/contribute/creating-a-pattern/>Patterns</a></li></ul></nav></div><div class="pf-l-grid__item pf-m-6-col-on-sm pf-m-4-col-on-md pf-u-mt-lg pf-u-mt-0-on-md pf-u-ml-md pf-u-ml-0-on-md"><p class="pf-c-title footer-menu-title">STAY IN TOUCH</p><nav aria-label="Stay in touch"><ul class="pf-c-list pf-m-plain"><li><i class="prefooter-icon fas fa-envelope"></i>
<a href=https://groups.google.com/g/hybrid-cloud-patterns class=footer-link target=top aria-label="Join the Validated Patterns mailing list">Mailing list</a></li></ul></nav></div></div></div><div class="pf-l-grid__item pf-m-12-col-on-sm pf-m-4-col-on-md"><div class="pf-l-grid pf-u-pt-xl"><div class="pf-l-grid__item pf-u-px-xl"><a class="pf-c-page__header-brand-link pf-c-brand pf-u-pb-md" href=/><img class=pf-c-brand src=/images/hybrid_cloud_patterns.png alt="Hybrid Cloud Patterns"></a><p class=footer-link>Hybrid Cloud Patterns are an evolution of how you deploy applications in a hybrid cloud. With a pattern, you can automatically deploy a full application stack through a GitOps-based framework. With this framework, you can create business-centric solutions while maintaining a level of Continuous Integration (CI) over your application.</p></div></div></div></div></section><footer id=footer class="footer-dark pf-m-no-fill pf-l-flex footer-center"><div class=pf-l-flex__item><a href=//www.redhat.com target=top aria-label="Visit Red Hat.com"><img src=/images/RHlogo.svg alt="Red Hat logo" width=145px height=613px></a><span class=site-copyright>Copyright &copy; 2023 Red Hat, Inc.</span></div><script src=/js/bootstrap.bundle.js></script></footer></main></div></body></html>